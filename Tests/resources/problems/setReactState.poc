
abstract method Callback ();
abstract Document method StateAndPropsCallback (Document state, Document props);

native method setReactState(ReactWidget w, Document state, Callback callback = null) {
	JavaScript: w.setState(state, callback);
}

native method setReactState(ReactWidget w, StateAndPropsCallback callback) {
	JavaScript: w.setState(callback);
}

widget ReactWidget {

	method setState(Document state, Callback callback = null) {
		setReactState(this, state, callback);
	}
	
	method setState(StateAndPropsCallback callback) {
		setReactState(this, callback);
	}
	
}

widget MyWidget extends ReactWidget {

	method stuff() {
		data = "Hello";
		setState((state, props) => MyCallback(state, props, data));
	}
	
	method MyCallback(Document state, Document props, Text data) {
		return state;
	}

}

